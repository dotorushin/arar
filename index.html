<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Web AR with Model Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.min.js"></script>
    <style>
        model-viewer {
            width: 100%;
            height: 100vh;
            display: block;
        }
    </style>
</head>
<body>
    <model-viewer id="ar-model" 
        src="./your_model.glb" 
        ar 
        ar-modes="webxr scene-viewer quick-look" 
        camera-controls 
        auto-rotate>
    </model-viewer>

    <script>
        const modelViewer = document.querySelector("#ar-model");

        let scale = 1;
        let hammer = new Hammer(modelViewer);

        // 드래그(이동) 기능 추가
        hammer.on("pan", (event) => {
            let dx = event.deltaX * 0.001; // X 방향 이동
            let dy = event.deltaY * -0.001; // Y 방향 이동 (반대로 적용)
            modelViewer.cameraOrbit = `${dx}rad ${dy}rad auto`;
        });

        // 핀치 줌(확대/축소) 기능 추가
        hammer.get("pinch").set({ enable: true });
        hammer.on("pinch", (event) => {
            scale = Math.min(Math.max(0.5, scale * event.scale), 3); // 최소 0.5배, 최대 3배
            modelViewer.scale = `${scale} ${scale} ${scale}`;
        });
    </script>
</body>
</html>
